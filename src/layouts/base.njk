{# ============================================================================
   src/layouts/base.njk
   Master layout for Flower Pickup Box.
   Do not inline page content here; child templates supply {% block content %}.
============================================================================ #}
<!DOCTYPE html>
<html lang="en" translate="no">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Language" content="en" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>{{ pageTitle | default("Flower Shop") }}</title>
  <meta name="description" content="{{ pageDescription | default('Automated flower vending solutions â€“ beautifully lit, smartly cooled, 24/7 available.') }}" />
  <meta name="google" content="notranslate" />

  {# Site root used in canonical + OG fallbacks #}
  {% set _site = siteUrl | default("https://flowerpickupbox.netlify.app") %}
  <link rel="canonical" href="{{ _site }}" />

  {# Social preview image; override via ogImage; else default #}
  {% set _ogImg = ogImage | default(_site ~ '/img/social-share.png') %}

  {# --- Open Graph (WhatsApp uses these) --- #}
  <meta property="og:type" content="website" />
  <meta property="og:url" content="{{ _site }}" />
  <meta property="og:title" content="{{ pageTitle | default('Flower Pickup Box') }}" />
  <meta property="og:description" content="{{ pageDescription | default('Smart 24/7 flower vending â€“ sell after hours with cooling, lighting & remote monitoring.') }}" />
  <meta property="og:image" content="{{ _ogImg }}" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  {# --- Twitter Card --- #}
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ pageTitle | default('Flower Pickup Box') }}" />
  <meta name="twitter:description" content="{{ pageDescription | default('Smart 24/7 flower vending â€“ sell after hours with cooling, lighting & remote monitoring.') }}" />
  <meta name="twitter:image" content="{{ _ogImg }}" />

  {# --- Icons & mobile browser UI tint --- #}
  <link rel="icon" type="image/png" sizes="32x32" href="img/icon.png">
  <link rel="apple-touch-icon" href="img/icon.png">
  <link rel="mask-icon" href="img/icon.png" color="#000000">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff"> {# white; prevents green top bar #}

  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  {% block content %}{% endblock %}

  {# Language Switcher widget ------------------------------------------------ #}
  <div class="lang-widget" id="lang-widget" data-current="en" aria-label="Language selector">
    <div class="lang-options" id="lang-options" role="menu" aria-hidden="true"></div>
    <button type="button"
            class="lang-main-btn"
            id="lang-main-btn"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Change language">ðŸ‡¬ðŸ‡§</button>
  </div>

  {# Embed language JSON for js/main.js to load offline & online ------------- #}
  {% if langData %}
  <script id="lang-data" type="application/json">{{ langData | json(0) | safe }}</script>
  {% endif %}

  <script src="js/main.js" defer></script>
</body>
</html>
