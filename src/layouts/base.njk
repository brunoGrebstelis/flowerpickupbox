{# ============================================================
   Base Layout
   - Receives:
       lang        -> current page language (we use 'en' for shell)
       title       -> optional <title>
       langData    -> object with ALL languages (embedded for client)
   - Child templates fill the content block.
   - SITE_URL used for absolute social meta.
============================================================ #}
{% set SITE_URL = "https://flowerpickupbox.netlify.app" %}
{% set SHARE_IMG = SITE_URL + "/img/social-share.jpg" %}

<!DOCTYPE html>
<html lang="{{ lang | default('en') }}" translate="no">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Language" content="{{ lang | default('en') }}" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>{{ title | default("Flower Pickup Box") }}</title>
  <meta name="description" content="Smart 24/7 flower vending – sell after hours with cooling, lighting & remote monitoring." />
  <meta name="google" content="notranslate" />

  <!-- Canonical -->
  <link rel="canonical" href="{{ SITE_URL }}/" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="{{ SITE_URL }}/" />
  <meta property="og:title" content="Flower Pickup Box" />
  <meta property="og:description" content="Smart 24/7 flower vending – sell after hours with cooling, lighting & remote monitoring." />
  <meta property="og:image" content="{{ SHARE_IMG }}" />
  <meta property="og:image:alt" content="Flower Pickup Box vending display" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Flower Pickup Box" />
  <meta name="twitter:description" content="Smart 24/7 flower vending – sell after hours with cooling, lighting & remote monitoring." />
  <meta name="twitter:image" content="{{ SHARE_IMG }}" />

  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="img/icon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/icon.png">
  <link rel="apple-touch-icon" href="img/icon.png">
  <link rel="mask-icon" href="img/icon.png" color="#000000">

  <!-- Theme color (controls mobile browser bar tint) -->
  <meta name="theme-color" content="#000000">

  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  {% block content %}{% endblock %}

  {# Embed ALL language JSON so JS can switch instantly #}
  <script id="lang-data" type="application/json">
    {{ langData | dump | safe }}
  </script>

  <script src="js/main.js" defer></script>
</body>
</html>
