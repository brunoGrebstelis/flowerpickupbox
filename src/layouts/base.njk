{# src/layouts/base.njk -------------------------------------------------------
   Base layout for Flower Pickup Box site.
   Receives:
     - pageTitle (optional)
     - pageDescription (optional)
     - ogImage (optional)
     - siteUrl (optional)
     - langData (from build.js; DO NOT override in pages)
------------------------------------------------------------------------------- #}
<!DOCTYPE html>
<html lang="en" translate="no">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Language" content="en" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>{{ pageTitle | default("Flower Shop") }}</title>
  <meta name="description" content="{{ pageDescription | default('Automated flower vending solutions â€“ beautifully lit, smartly cooled, 24/7 available.') }}" />
  <meta name="google" content="notranslate" />

  {# Canonical + Open Graph / Twitter #}
  {% set _site = siteUrl | default("https://flowerpickupbox.netlify.app") %}
  <link rel="canonical" href="{{ _site }}" />

  <meta property="og:type" content="website" />
  <meta property="og:url" content="{{ _site }}" />
  <meta property="og:title" content="{{ pageTitle | default('Flower Pickup Box') }}" />
  <meta property="og:description" content="{{ pageDescription | default('Smart 24/7 flower vending â€“ sell after hours with cooling, lighting & remote monitoring.') }}" />
  <meta property="og:image" content="{{ ogImage | default(_site ~ '/img/icon.png') }}" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ pageTitle | default('Flower Pickup Box') }}" />
  <meta name="twitter:description" content="{{ pageDescription | default('Smart 24/7 flower vending â€“ sell after hours with cooling, lighting & remote monitoring.') }}" />
  <meta name="twitter:image" content="{{ ogImage | default(_site ~ '/img/icon.png') }}" />

  {# Favicons #}
  <link rel="icon" type="image/png" href="img/icon.png">
  <link rel="apple-touch-icon" href="img/icon.png">
  <link rel="mask-icon" href="img/icon.png" color="#34C759">
  <meta name="msapplication-TileColor" content="#34C759">
  <meta name="theme-color" content="#34C759">

  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  {% block content %}{% endblock %}

  {# Language Switcher widget (required for translation UI) #}
  <div class="lang-widget" id="lang-widget" data-current="en" aria-label="Language selector">
    <div class="lang-options" id="lang-options" role="menu" aria-hidden="true"></div>
    <button type="button"
            class="lang-main-btn"
            id="lang-main-btn"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Change language">ðŸ‡¬ðŸ‡§</button>
  </div>

  {# Embed language JSON for main.js #}
  {% if langData %}
  <script id="lang-data" type="application/json">
  {{ langData | json(0) | safe }}
  </script>
  {% endif %}

  <script src="js/main.js" defer></script>
</body>
</html>
